<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Taronga Zoo Animal Sounds</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const ZooSoundsApp = () => {
      const [playing, setPlaying] = useState(null);
      const [currentQuestion, setCurrentQuestion] = useState(null);
      const [score, setScore] = useState(0);
      const [answered, setAnswered] = useState(new Set());
      const [showFeedback, setShowFeedback] = useState(null);
      const [currentAudio, setCurrentAudio] = useState(null);

      // UPDATE THESE PATHS TO MATCH YOUR FILES
      const animals = [
        { 
          id: 'lion',
          name: 'African Lion',
          scientificName: 'Panthera leo',
          image: 'images/lion.jpg',
          audioUrl: 'sounds/lion.mp3',
          question: 'Why do lions roar?',
          options: [
            'To communicate with their pride and mark territory',
            'To scare away birds',
            'To call for food',
            'To signal the weather is changing'
          ],
          correctAnswer: 0,
          explanation: 'Lions roar to communicate with pride members over long distances (up to 8km) and to establish territorial boundaries. A lion\'s roar can reach 114 decibels!'
        },
        { 
          id: 'elephant',
          name: 'Asian Elephant',
          scientificName: 'Elephas maximus',
          image: 'images/elephant.jpg',
          audioUrl: 'sounds/elephant.mp3',
          question: 'What does an elephant\'s trumpet call signify?',
          options: [
            'They are drinking water',
            'Excitement, alarm, or greeting other elephants',
            'They are tired',
            'Mating season only'
          ],
          correctAnswer: 1,
          explanation: 'Elephants trumpet when excited, distressed, or greeting family members. They also use infrasound (below human hearing) to communicate over distances of up to 10km!'
        },
        { 
          id: 'seal',
          name: 'Australian Fur Seal',
          scientificName: 'Arctocephalus pusillus',
          image: 'images/seal.jpg',
          audioUrl: 'sounds/seal.mp3',
          question: 'Why do seals bark?',
          options: [
            'To find fish',
            'To warn of predators and communicate location',
            'To play games',
            'To regulate body temperature'
          ],
          correctAnswer: 1,
          explanation: 'Seals bark to warn others of danger, establish territory, and help mothers and pups locate each other in crowded colonies. Each seal has a unique voice!'
        },
        { 
          id: 'giraffe',
          name: 'Giraffe',
          scientificName: 'Giraffa camelopardalis',
          image: 'images/giraffe.jpg',
          audioUrl: 'sounds/giraffe.mp3',
          question: 'When do giraffes make humming sounds?',
          options: [
            'During the day when eating',
            'At night to stay in contact with the herd',
            'Only when babies are born',
            'When they are angry'
          ],
          correctAnswer: 1,
          explanation: 'Giraffes hum at night at frequencies around 92Hz. Scientists believe this helps them maintain contact with their herd in darkness. For years, giraffes were thought to be silent!'
        },
        { 
          id: 'chimpanzee',
          name: 'Chimpanzee',
          scientificName: 'Pan troglodytes',
          image: 'images/chimpanzee.jpg',
          audioUrl: 'sounds/chimpanzee.mp3',
          question: 'What does a chimpanzee\'s scream indicate?',
          options: [
            'They found water',
            'Excitement about food, alarm, or social conflict',
            'Time to sleep',
            'Building a nest'
          ],
          correctAnswer: 1,
          explanation: 'Chimpanzees use different screams and calls to express excitement (like finding food), raise alarms about predators, or during social disputes. They have over 30 different vocalizations!'
        },
        { 
          id: 'koala',
          name: 'Koala',
          scientificName: 'Phascolarctos cinereus',
          image: 'images/koala.jpg',
          audioUrl: 'sounds/koala.mp3',
          question: 'Why do male koalas bellow?',
          options: [
            'To attract mates and establish dominance',
            'When they are hungry',
            'To climb trees faster',
            'To scare predators'
          ],
          correctAnswer: 0,
          explanation: 'Male koalas produce deep bellowing sounds during breeding season to attract females and warn off rival males. Their bellow can be heard up to 1km away and sounds much larger than you\'d expect!'
        },
        { 
          id: 'penguin',
          name: 'Little Penguin',
          scientificName: 'Eudyptula minor',
          image: 'images/penguin.jpg',
          audioUrl: 'sounds/penguin.mp3',
          question: 'How do penguins use their calls?',
          options: [
            'To swim faster',
            'To recognize their mate and chicks in large colonies',
            'To catch fish',
            'To stay warm'
          ],
          correctAnswer: 1,
          explanation: 'Little penguins use unique calls to identify their partner and chicks among thousands of other penguins in the colony. Parents and chicks can recognize each other\'s voices even in a noisy crowd!'
        },
        { 
          id: 'tiger',
          name: 'Sumatran Tiger',
          scientificName: 'Panthera tigris sumatrae',
          image: 'images/tiger.jpg',
          audioUrl: 'sounds/tiger.mp3',
          question: 'What does a tiger\'s growl communicate?',
          options: [
            'Happiness and playfulness',
            'Warning, aggression, or defending territory',
            'Hunger only',
            'Calling for help'
          ],
          correctAnswer: 1,
          explanation: 'Tigers growl as a warning to threats or intruders, during aggressive encounters, and to defend their territory. They also use chuffing (a friendly sound) to greet each other!'
        }
      ];

      const playSound = (animal) => {
        if (playing === animal.id) {
          if (currentAudio) {
            currentAudio.pause();
            currentAudio.currentTime = 0;
          }
          setPlaying(null);
          setCurrentAudio(null);
          return;
        }

        if (currentAudio) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
        }

        setPlaying(animal.id);
        
        const audio = new Audio(animal.audioUrl);
        setCurrentAudio(audio);
        
        audio.play().catch(err => {
          console.error('Error playing audio:', err);
          alert('Could not play audio. Make sure the file exists: ' + animal.audioUrl);
          setPlaying(null);
        });
        
        audio.onended = () => {
          setPlaying(null);
          setCurrentAudio(null);
          if (!answered.has(animal.id)) {
            setCurrentQuestion(animal);
          }
        };
      };

      const handleAnswer = (selectedIndex) => {
        const isCorrect = selectedIndex === currentQuestion.correctAnswer;
        
        if (isCorrect) {
          setScore(score + 10);
        }
        
        setAnswered(new Set([...answered, currentQuestion.id]));
        
        setShowFeedback({
          correct: isCorrect,
          explanation: currentQuestion.explanation
        });
        
        setTimeout(() => {
          setShowFeedback(null);
          setCurrentQuestion(null);
        }, 4000);
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-emerald-900 via-emerald-800 to-teal-900">
          <div className="bg-emerald-950 bg-opacity-50 backdrop-blur-sm border-b border-emerald-700 sticky top-0 z-50">
            <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
              <div>
                <h1 className="text-2xl md:text-3xl font-bold text-white">ü¶Å Taronga Zoo</h1>
                <p className="text-emerald-200 text-sm">Animal Sound Explorer</p>
              </div>
              <div className="text-right">
                <div className="text-yellow-400 font-bold text-2xl">‚≠ê {score}</div>
                <div className="text-emerald-200 text-xs">Points</div>
              </div>
            </div>
          </div>

          <div className="max-w-7xl mx-auto px-4 py-8">
            <div className="mb-8 bg-white bg-opacity-10 backdrop-blur-md rounded-2xl p-6 border border-white border-opacity-20">
              <h2 className="text-white text-lg font-semibold mb-2">üéµ How to Play</h2>
              <p className="text-emerald-100">Click on any animal to hear their sound, then answer the quiz question to earn 10 points! Learn why each animal communicates the way they do.</p>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              {animals.map((animal) => (
                <div
                  key={animal.id}
                  className={`bg-white rounded-xl overflow-hidden shadow-2xl cursor-pointer transition-all duration-300 hover:-translate-y-1 ${
                    answered.has(animal.id) ? 'ring-4 ring-yellow-400' : ''
                  }`}
                  onClick={() => playSound(animal)}
                >
                  <div className="relative h-48 overflow-hidden">
                    <img
                      src={animal.image}
                      alt={animal.name}
                      className="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
                      onError={(e) => {
                        e.target.style.display = 'none';
                        e.target.nextSibling.style.display = 'flex';
                      }}
                    />
                    <div style={{display: 'none'}} className="w-full h-full flex items-center justify-center bg-gray-200 text-gray-500">
                      No Image
                    </div>
                    <div className="absolute top-0 left-0 right-0 bg-gradient-to-b from-black to-transparent p-3">
                      {answered.has(animal.id) && <div className="text-yellow-400 text-xl">‚úì</div>}
                    </div>
                    {playing === animal.id && (
                      <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3">
                        <div className="flex items-center text-white">
                          <div className="text-2xl mr-2 animate-pulse">üîä</div>
                          <div className="text-sm font-semibold">Playing...</div>
                        </div>
                      </div>
                    )}
                  </div>
                  <div className="p-4">
                    <h3 className="font-bold text-gray-900 text-lg mb-1">{animal.name}</h3>
                    <p className="text-gray-500 text-sm italic mb-3">{animal.scientificName}</p>
                    <button className={`w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors ${
                      playing === animal.id ? 'bg-emerald-800' : ''
                    }`}>
                      {playing === animal.id ? 'üîä Playing' : '‚ñ∂Ô∏è Play Sound'}
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>

          {currentQuestion && (
            <div className="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-2xl max-w-2xl w-full p-8 shadow-2xl">
                <div className="flex items-center mb-6">
                  <img
                    src={currentQuestion.image}
                    alt={currentQuestion.name}
                    className="w-20 h-20 rounded-full object-cover mr-4"
                  />
                  <div>
                    <h3 className="text-2xl font-bold text-gray-900">{currentQuestion.name}</h3>
                    <p className="text-gray-500">{currentQuestion.scientificName}</p>
                  </div>
                </div>
                <h4 className="text-xl font-semibold text-gray-800 mb-4">{currentQuestion.question}</h4>
                <div className="space-y-3">
                  {currentQuestion.options.map((option, index) => (
                    <button
                      key={index}
                      onClick={() => handleAnswer(index)}
                      className="w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-emerald-500 hover:bg-emerald-50 transition-all font-medium text-gray-700"
                    >
                      {option}
                    </button>
                  ))}
                </div>
              </div>
            </div>
          )}

          {showFeedback && (
            <div className="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50">
              <div className={`bg-white rounded-2xl max-w-xl w-full p-8 shadow-2xl border-4 ${
                showFeedback.correct ? 'border-green-500' : 'border-orange-500'
              }`}>
                <div className="text-center mb-4">
                  <div className="text-6xl mb-3">{showFeedback.correct ? 'üéâ' : 'ü§î'}</div>
                  <h3 className={`text-3xl font-bold ${
                    showFeedback.correct ? 'text-green-600' : 'text-orange-600'
                  }`}>
                    {showFeedback.correct ? 'Correct! +10 Points' : 'Not Quite!'}
                  </h3>
                </div>
                <div className="bg-gray-50 rounded-lg p-4">
                  <p className="text-gray-700 leading-relaxed">{showFeedback.explanation}</p>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    };

    ReactDOM.render(<ZooSoundsApp />, document.getElementById('root'));
  </script>
</body>
</html>